(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"1d2c":function(e,t,i){"use strict";var a=i("c145"),n=i.n(a);n.a},2065:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".container[data-v-9ea3ce0e]{\n    /* position: absolute; */width:%?750?%;background-color:#fff}.head[data-v-9ea3ce0e]{position:fixed;width:%?750?%;background-color:#fff;height:%?60?%;z-index:9999}.head-nav[data-v-9ea3ce0e]{position:fixed;top:%?60?%;width:%?750?%;background-color:#2f85fc;height:%?140?%;\n    /* padding-top: 60upx; */z-index:9990;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row}.head-title[data-v-9ea3ce0e]{position:relative;top:%?32?%;font-size:%?58?%;text-align:left;font-weight:700;height:%?160?%;color:#fefefe;margin-left:%?40?%}.head-search[data-v-9ea3ce0e]{position:relative;top:%?-37?%;height:%?70?%;width:%?70?%;margin-left:%?630?%}.index-body[data-v-9ea3ce0e]{position:relative;top:%?200?%}.slider[data-v-9ea3ce0e]{position:relative;height:%?400?%}.frame[data-v-9ea3ce0e]{height:%?400?%}.image[data-v-9ea3ce0e]{height:%?400?%;width:100%}.news[data-v-9ea3ce0e]{height:%?400?%}.noCard[data-v-9ea3ce0e]{width:90%;height:%?200?%;margin:auto;background-color:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:#999;-webkit-box-shadow:0 0 %?10?% 0 rgba(0,0,0,.1);box-shadow:0 0 %?10?% 0 rgba(0,0,0,.1);border-radius:%?10?%}uni-swiper[data-v-9ea3ce0e]{min-height:90vh}.clickClass[data-v-9ea3ce0e]{color:#0079ff}.underline[data-v-9ea3ce0e]{width:%?84?%;height:3px;background-color:#fff}.underlineBox[data-v-9ea3ce0e]{width:25%;height:3px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:.5s;-o-transition:.5s;transition:.5s}.navTabItem[data-v-9ea3ce0e]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:100%;font-size:%?28?%}.nav[data-v-9ea3ce0e]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:hidden;height:100%}.swiper-tab[data-v-9ea3ce0e]{width:100%;white-space:nowrap;line-height:%?100?%;height:%?100?%}.swiper-tab-list[data-v-9ea3ce0e]{font-size:%?32?%;width:%?150?%;display:inline-block;text-align:center}\n\n/* 帖子格子css */.content[data-v-9ea3ce0e]{width:%?750?%;padding:0}.card[data-v-9ea3ce0e]{position:relative;width:%?750?%;height:%?300?%;background-color:#fff;background:#fff;border-bottom-width:%?1?%;border-bottom-style:solid;border-bottom-color:#c8c7cc;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.card-container[data-v-9ea3ce0e]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.card[data-v-9ea3ce0e]:active{background-color:#eee}.media-title[data-v-9ea3ce0e]{position:relative;top:%?25?%;left:%?30?%;width:100px}.media-title-text[data-v-9ea3ce0e]{font-size:%?38?%;line-height:%?45?%;font-weight:700;color:#343131;width:%?450?%;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.media-preview[data-v-9ea3ce0e]{position:relative;top:%?40?%;left:%?30?%;margin-top:%?15?%}.media-preview-text[data-v-9ea3ce0e]{font-size:%?32?%;color:#666;width:%?700?%;height:%?100?%;word-break:break-all;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}.media-head-image[data-v-9ea3ce0e]{position:relative;top:%?60?%;left:%?30?%}.media-head-image-detail[data-v-9ea3ce0e]{width:%?70?%;height:%?70?%;border-radius:50%}.media-name[data-v-9ea3ce0e]{position:relative;top:%?-10?%;left:%?115?%;line-height:%?50?%}.media-name-text[data-v-9ea3ce0e]{text-align:left;color:#2f85fc;font-size:%?32?%}.media-points[data-v-9ea3ce0e]{position:relative;top:%?-30?%;left:%?420?%;line-height:%?50?%}.media-points-view-comment[data-v-9ea3ce0e]{position:relative;top:%?-60?%;left:%?510?%;line-height:%?50?%}.media-points-view-comment-text[data-v-9ea3ce0e]{font-size:%?28?%;color:#666}.media-points-text[data-v-9ea3ce0e]{text-align:left;color:#fc0;font-size:%?30?%;padding-right:%?10?%}.media-time[data-v-9ea3ce0e]{position:relative;top:%?-330?%;left:%?620?%}.media-time-text[data-v-9ea3ce0e]{text-align:left;font-size:%?28?%;line-height:%?45?%;color:#c9c9c9}.add-post[data-v-9ea3ce0e]{width:%?100?%;height:%?100?%;border-radius:50%;position:fixed;bottom:%?90?%;right:%?40?%}",""])},6031:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;o(i("8030"));var a=o(i("a35e")),n=i("a40b");function o(e){return e&&e.__esModule?e:{default:e}}var s={data:function(){return{indicatorDots:!0,autoplay:!0,interval:2e3,duration:500,scrollLeft:0,currentTab:0,tabClick:0,isHeight:"",isLeft:0,agents:[{title:"学术论坛",list:[],id:0,pages:0},{title:"校园动态",list:[],id:1,pages:0},{title:"二手交易",list:[],id:2,pages:0},{title:"缺个伴吗",list:[],id:3,pages:0},{title:"帮你干活",list:[],id:4,pages:0},{title:"经验交流",list:[],id:5,pages:0}],isWidth:0,imageList:[]}},mounted:function(){this.isHeight=300*this.agents[this.currentTab].list.length+160+"rpx"},methods:{goAddPost:function(){uni.navigateTo({url:"add-post/add-post"})},goDetail:function(e){var t=e.currentTarget.dataset.index,i=this.agents[this.currentTab].list[t].postId;console.log(i);var a={postId:i};uni.navigateTo({url:"post-detail/post-detail?query="+encodeURIComponent(JSON.stringify(a))})},goSearch:function(){uni.navigateTo({url:"search-post/search-post"})},navClick:function(e){this.currentTab=e,this.tabClick=e;var t=this,i=a.default.urls.getPostList,o={num:0,postType:t.currentTab};a.default.req.get(i,o,function(i){if(0===i.code){for(var a=0;a<i.data.content.length;a++)i.data.content[a].issueTime=(0,n.friendlyDate)(new Date(i.data.content[a].issueTime.replace(/\-/g,"/").replace(/\T/g," ").substring(0,19)).getTime());t.agents[e].list=i.data.content,console.log(t.agents[e].list.length)}},function(e){setTimeout(function(){uni.hideLoading(),uni.stopPullDownRefresh(),uni.showToast({icon:"none",title:"刷新失败，请稍后再试"})},4e3)})},swiperTab:function(e){var t=e.detail.current;this.isHeight=300*this.agents[t].list.length+160+"rpx",this.isLeft=t*this.isWidth,this.currentTab=e.detail.current,this.tabClick=e.detail.current,4==this.currentTab?this.scrollLeft=150:5==this.currentTab&&(this.scrollLeft=150),1!=this.currentTab&&0!=this.currentTab||(this.scrollLeft=0);var i=this,o=a.default.urls.getPostList,s={num:0,postType:i.currentTab};a.default.req.get(o,s,function(e){if(0===e.code){for(var t=0;t<e.data.content.length;t++)e.data.content[t].issueTime=(0,n.friendlyDate)(new Date(e.data.content[t].issueTime.replace(/\-/g,"/").replace(/\T/g," ").substring(0,19)).getTime());i.agents[i.currentTab].list=e.data.content,i.isHeight=300*i.agents[i.currentTab].list.length+160+"rpx"}},function(e){setTimeout(function(){uni.hideLoading(),uni.stopPullDownRefresh(),uni.showToast({icon:"none",title:"刷新失败，请稍后再试"})},4e3)})}},onPullDownRefresh:function(){console.log("刷新第".concat(this.currentTab,"项"));var e=this,t=a.default.urls.getRollImage,i={imagePosition:"true"};a.default.req.get(t,i,function(t){console.log(t),0==t.code&&(e.imageList=t.data)});var o=a.default.urls.getPostList,s={num:0,postType:e.currentTab};a.default.req.get(o,s,function(t){if(0===t.code){for(var i=0;i<t.data.content.length;i++)t.data.content[i].issueTime=(0,n.friendlyDate)(new Date(t.data.content[i].issueTime.replace(/\-/g,"/").replace(/\T/g," ").substring(0,19)).getTime());e.agents[e.currentTab].list=t.data.content,e.isHeight=300*e.agents[e.currentTab].list.length+160+"rpx"}uni.stopPullDownRefresh()},function(e){setTimeout(function(){uni.hideLoading(),uni.stopPullDownRefresh(),uni.showToast({icon:"none",title:"刷新失败，请稍后再试"})},4e3)})},onReachBottom:function(){var e=this;console.log("加载".concat(this.currentTab)),uni.showLoading({content:"加载中"});var t=this;if(0!==t.agents[t.currentTab].list.length){var i=a.default.urls.getPostList,o={num:t.agents[this.currentTab].pages,postType:t.currentTab};a.default.req.get(i,o,function(i){if(0===i.code&&0==i.data.empty){for(var a=0;a<i.data.content.length;a++)i.data.content[a].issueTime=(0,n.friendlyDate)(new Date(i.data.content[a].issueTime.replace(/\-/g,"/").replace(/\T/g," ").substring(0,19)).getTime());for(a=0;a<i.data.content.length;a++)t.agents[t.currentTab].list.push(i.data.content[a]);t.agents[e.currentTab].pages=t.agents[e.currentTab].pages+1,t.isHeight=300*t.agents[t.currentTab].list.length+160+"rpx",uni.hideLoading()}else uni.hideLoading(),uni.showToast({icon:"none",title:"你已经看到我的底线啦！"})},function(e){setTimeout(function(){uni.hideLoading(),uni.stopPullDownRefresh(),uni.showToast({icon:"none",title:"刷新失败，请稍后再试"})},4e3)})}else uni.hideLoading(),uni.showToast({icon:"none",title:"你已经看到我的底线啦！"})},onShow:function(){var e=this,t=this,i=a.default.urls.getRollImage,o={imagePosition:"true"};a.default.req.get(i,o,function(e){console.log(e),0==e.code&&(t.imageList=e.data)});var s=a.default.urls.getPostList,r={num:0,postType:t.currentTab};a.default.req.get(s,r,function(i){if(0===i.code){for(var a=0;a<i.data.content.length;a++)i.data.content[a].issueTime=(0,n.friendlyDate)(new Date(i.data.content[a].issueTime.replace(/\-/g,"/").replace(/\T/g," ").substring(0,19)).getTime());t.agents[e.currentTab].pages=t.agents[e.currentTab].pages+1,t.agents[t.currentTab].list=i.data.content,t.isHeight=300*t.agents[t.currentTab].list.length+160+"rpx"}},function(e){setTimeout(function(){uni.hideLoading(),uni.stopPullDownRefresh(),uni.showToast({icon:"none",title:"刷新失败，请稍后再试"})},4e3)})}};t.default=s},"65aa":function(e,t,i){"use strict";i.r(t);var a=i("6031"),n=i.n(a);for(var o in a)"default"!==o&&function(e){i.d(t,e,function(){return a[e]})}(o);t["default"]=n.a},a037:function(e,t,i){"use strict";i.r(t);var a=i("c49c"),n=i("65aa");for(var o in n)"default"!==o&&function(e){i.d(t,e,function(){return n[e]})}(o);i("1d2c");var s=i("2877"),r=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"9ea3ce0e",null);t["default"]=r.exports},a40b:function(e,t,i){"use strict";function a(e){var t={year:"%n% 年前",month:"%n% 月前",day:"%n% 天前",hour:"%n% 小时前",minute:"%n% 分钟前",second:"%n% 秒前"},i=Date.now(),a=Math.floor((i-e)/1e3)+1,n=Math.floor(a/60),o=Math.floor(n/60),s=Math.floor(o/24),r=Math.floor(s/30),l=Math.floor(r/12),c="",d=0;return l>0?(c="year",d=l):r>0?(c="month",d=r):s>0?(c="day",d=s):o>0?(c="hour",d=o):n>0?(c="minute",d=n):(c="second",d=0===a?a=1:a),t[c].replace("%n%",d)}function n(e,t){return e.length<t?e:e.substring(0,t)+"..."}Object.defineProperty(t,"__esModule",{value:!0}),t.friendlyDate=a,t.cutString=n},c145:function(e,t,i){var a=i("2065");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("1bc446ac",a,!0,{sourceMap:!1,shadowMode:!1})},c49c:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"head"}),i("v-uni-view",{staticClass:"head-nav"},[i("v-uni-text",{staticClass:"head-title"},[e._v("校园帮")]),i("v-uni-image",{staticClass:"head-search",attrs:{src:"/static/icons/search-white.png"},on:{click:function(t){t=e.$handleEvent(t),e.goSearch()}}})],1),i("v-uni-view",{staticClass:"index-body"},[i("v-uni-view",{staticClass:"nav"},[i("v-uni-scroll-view",{staticClass:"swiper-tab",attrs:{id:"tab-bar","scroll-x":"",scrollLeft:e.scrollLeft}},e._l(e.agents,function(t,a){return i("v-uni-view",{key:a,staticClass:"swiper-tab-list",class:a==e.tabClick?"clickClass":"",on:{click:function(t){t=e.$handleEvent(t),e.navClick(a)}}},[e._v(e._s(t.title))])}),1)],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:0==e.currentTab,expression:"currentTab==0"}],staticClass:"news"},[i("v-uni-swiper",{staticClass:"slider",attrs:{"indicator-dots":e.indicatorDots,autoplay:e.autoplay,interval:e.interval,duration:e.duration}},e._l(e.imageList,function(e,t){return i("v-uni-swiper-item",{key:t,staticClass:"frame"},[i("v-uni-image",{staticClass:"image",attrs:{src:e.imageUrl}})],1)}),1)],1),i("v-uni-swiper",{style:{height:e.isHeight},attrs:{current:e.currentTab},on:{change:function(t){t=e.$handleEvent(t),e.swiperTab(t)}}},e._l(e.agents,function(t,a){return i("v-uni-swiper-item",{key:a},[i("v-uni-view",{staticClass:"content"},e._l(t.list,function(a,n){return i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.list.length>0,expression:"item.list.length > 0"}],key:n,staticClass:"card",attrs:{"data-index":n},on:{click:function(t){t=e.$handleEvent(t),e.goDetail(t)}}},[i("v-uni-view",{staticClass:"media-title"},[i("v-uni-text",{staticClass:"media-title-text"},[e._v(e._s(a.title))])],1),i("v-uni-view",{staticClass:"media-preview"},[i("v-uni-text",{staticClass:"media-preview-text"},[e._v(e._s(a.content))])],1),i("v-uni-view",{staticClass:"media-head-image"},[i("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:a.headImageUrl,expression:"listItem.headImageUrl"}],staticClass:"media-head-image-detail",attrs:{src:a.headImageUrl}})],1),i("v-uni-view",{staticClass:"media-name"},[i("v-uni-text",{staticClass:"media-name-text"},[e._v(e._s(a.userName))])],1),i("v-uni-view",{staticClass:"media-points-view-comment"},[i("v-uni-text",{staticClass:"media-points-text"},[e._v("$"+e._s(a.points))]),i("v-uni-text",{staticClass:"media-points-view-comment-text"},[e._v("浏览"+e._s(a.viewNum)+" 评论"+e._s(a.commentNum))])],1),i("v-uni-view",{staticClass:"media-time"},[i("v-uni-text",{staticClass:"media-time-text"},[e._v(e._s(a.issueTime))])],1)],1)}),1),0===t.list.length?i("v-uni-view",{staticClass:"noCard"},[e._v("暂无信息")]):e._e()],1)}),1)],1),i("v-uni-image",{staticClass:"add-post",attrs:{src:"../../static/icons/add.png",mode:""},on:{click:function(t){t=e.$handleEvent(t),e.goAddPost(t)}}})],1)},n=[];i.d(t,"a",function(){return a}),i.d(t,"b",function(){return n})}}]);