(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"0ebe":function(t,e,n){},"12b8":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},"148f":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;s(n("ebcf"));var i=s(n("0b38")),a=n("b575");function s(t){return t&&t.__esModule?t:{default:t}}var o={data:function(){return{scrollLeft:0,currentTab:0,tabClick:0,isHeight:"",isLeft:0,agents:[{title:"学术论坛",list:[],id:0,pages:0},{title:"校园动态",list:[],id:1,pages:0},{title:"二手交易",list:[],id:2,pages:0},{title:"缺个伴吗",list:[],id:3,pages:0},{title:"帮你干活",list:[],id:4,pages:0},{title:"经验交流",list:[],id:5,pages:0}],isWidth:0,imageList:[{src:"../../static/images/news-1.png"},{src:"../../static/images/news-2.png"},{src:"../../static/images/news-3.png"},{src:"../../static/images/news-4.png"}]}},mounted:function(){this.isHeight=300*this.agents[this.currentTab].list.length+160+"rpx"},methods:{goAddPost:function(){t.navigateTo({url:"add-post/add-post"})},goDetail:function(e){var n=e.currentTarget.dataset.index,i=this.agents[this.currentTab].list[n].postId;console.log(i," at pages\\index\\index.vue:152");var a={postId:i};t.navigateTo({url:"post-detail/post-detail?query="+encodeURIComponent(JSON.stringify(a))})},goSearch:function(){t.navigateTo({url:"search-post/search-post"})},navClick:function(e){this.currentTab=e,this.tabClick=e;var n=this,s=i.default.urls.getPostList,o={num:0,postType:n.currentTab};i.default.req.get(s,o,function(t){if(0===t.code&&0==t.data.empty){for(var i=0;i<t.data.content.length;i++)t.data.content[i].issueTime=(0,a.friendlyDate)(new Date(t.data.content[i].issueTime.replace(/\-/g,"/").replace(/\T/g," ").substring(0,19)).getTime());n.agents[e].list=t.data.content,console.log(n.agents[e].list.length," at pages\\index\\index.vue:182")}},function(e){setTimeout(function(){t.hideLoading(),t.stopPullDownRefresh(),t.showToast({icon:"none",title:"刷新失败，请稍后再试"})},4e3)})},swiperTab:function(e){console.log(e," at pages\\index\\index.vue:197");var n=e.detail.current;if(this.isHeight=300*this.agents[n].list.length+160+"rpx",this.isLeft=n*this.isWidth,this.currentTab=e.detail.current,this.tabClick=e.detail.current,4==this.currentTab?this.scrollLeft=150:5==this.currentTab&&(this.scrollLeft=150),1!=this.currentTab&&0!=this.currentTab||(this.scrollLeft=0),0===this.agents[n].list.length){var s=this,o=i.default.urls.getPostList,r={num:0,postType:s.currentTab};i.default.req.get(o,r,function(t){if(0===t.code&&0==t.data.empty){for(var e=0;e<t.data.content.length;e++)t.data.content[e].issueTime=(0,a.friendlyDate)(new Date(t.data.content[e].issueTime.replace(/\-/g,"/").replace(/\T/g," ").substring(0,19)).getTime());s.agents[s.currentTab].list=t.data.content,s.isHeight=300*s.agents[s.currentTab].list.length+160+"rpx"}},function(e){setTimeout(function(){t.hideLoading(),t.stopPullDownRefresh(),t.showToast({icon:"none",title:"刷新失败，请稍后再试"})},4e3)})}}},onPullDownRefresh:function(){console.log("刷新第".concat(this.currentTab,"项")," at pages\\index\\index.vue:243");var e=this,n=i.default.urls.getPostList,s={num:0,postType:e.currentTab};i.default.req.get(n,s,function(n){if(0===n.code){for(var i=0;i<n.data.content.length;i++)n.data.content[i].issueTime=(0,a.friendlyDate)(new Date(n.data.content[i].issueTime.replace(/\-/g,"/").replace(/\T/g," ").substring(0,19)).getTime());e.agents[e.currentTab].list=n.data.content,e.isHeight=300*e.agents[e.currentTab].list.length+160+"rpx"}t.stopPullDownRefresh()},function(e){setTimeout(function(){t.hideLoading(),t.stopPullDownRefresh(),t.showToast({icon:"none",title:"刷新失败，请稍后再试"})},4e3)})},onReachBottom:function(){var e=this;console.log("加载".concat(this.currentTab)," at pages\\index\\index.vue:273"),t.showLoading({content:"加载中"});var n=this;if(0!==n.agents[n.currentTab].list.length){var s=i.default.urls.getPostList,o={num:n.agents[this.currentTab].pages,postType:n.currentTab};i.default.req.get(s,o,function(i){if(0===i.code&&0==i.data.empty){for(var s=0;s<i.data.content.length;s++)i.data.content[s].issueTime=(0,a.friendlyDate)(new Date(i.data.content[s].issueTime.replace(/\-/g,"/").replace(/\T/g," ").substring(0,19)).getTime());for(s=0;s<i.data.content.length;s++)n.agents[n.currentTab].list.push(i.data.content[s]);n.agents[e.currentTab].pages=n.agents[e.currentTab].pages+1,n.isHeight=300*n.agents[n.currentTab].list.length+160+"rpx",t.hideLoading()}else t.hideLoading(),t.showToast({icon:"none",title:"你已经看到我的底线啦！"})},function(e){setTimeout(function(){t.hideLoading(),t.stopPullDownRefresh(),t.showToast({icon:"none",title:"刷新失败，请稍后再试"})},4e3)})}else t.hideLoading(),t.showToast({icon:"none",title:"你已经看到我的底线啦！"})},onShow:function(){var e=this,n=this,s=i.default.urls.getPostList,o={num:0,postType:n.currentTab};i.default.req.get(s,o,function(t){if(0===t.code&&0==t.data.empty){for(var i=0;i<t.data.content.length;i++)t.data.content[i].issueTime=(0,a.friendlyDate)(new Date(t.data.content[i].issueTime.replace(/\-/g,"/").replace(/\T/g," ").substring(0,19)).getTime());n.agents[e.currentTab].pages=n.agents[e.currentTab].pages+1,n.agents[n.currentTab].list=t.data.content,n.isHeight=300*n.agents[n.currentTab].list.length+160+"rpx"}},function(e){setTimeout(function(){t.hideLoading(),t.stopPullDownRefresh(),t.showToast({icon:"none",title:"刷新失败，请稍后再试"})},4e3)})}};e.default=o}).call(this,n("6e42")["default"])},"7cf9":function(t,e,n){"use strict";n.r(e);var i=n("148f"),a=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);e["default"]=a.a},dc61:function(t,e,n){"use strict";n.r(e);var i=n("12b8"),a=n("7cf9");for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);n("e638");var o=n("2877"),r=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"a5d424f4",null);e["default"]=r.exports},e638:function(t,e,n){"use strict";var i=n("0ebe"),a=n.n(i);a.a}},[["c4aa","common/runtime","common/vendor"]]]);