{"version":3,"sources":["webpack:///C:/Users/le/Desktop/校园帮/SchoolHelp-front-end/pages/index/post-detail/post-detail.vue?91bc","webpack:///C:/Users/le/Desktop/校园帮/SchoolHelp-front-end/pages/index/post-detail/post-detail.vue?a8b8","webpack:///C:/Users/le/Desktop/校园帮/SchoolHelp-front-end/pages/index/post-detail/post-detail.vue?ae19","webpack:///C:/Users/le/Desktop/校园帮/SchoolHelp-front-end/pages/index/post-detail/post-detail.vue?85a6","webpack:///C:/Users/le/Desktop/校园帮/SchoolHelp-front-end/pages/index/post-detail/post-detail.vue","webpack:///C:/Users/le/Desktop/校园帮/SchoolHelp-front-end/pages/index/post-detail/post-detail.vue?4c83","webpack:///C:/Users/le/Desktop/校园帮/SchoolHelp-front-end/pages/index/post-detail/post-detail.vue?3b9f"],"names":["data","showAddComment","commentEnter","postDetail","post","points","methods","showAddCommentBox","hideAddCommentBox","goUserData","e","console","log","currentTarget","dataset","userid","$store","state","userInfo","id","userId","uni","navigateTo","url","addComment","$api","urls","postId","commentContent","req","res","updateComments","comments","getAllComments","get","helpUserId","map","item","commentId","user","headImg","headImageUrl","isCertified","name","commentUserName","publishTime","Date","commentTime","replace","substring","getTime","content","helpOk","checkCertified","userIds","push","comment","includes","put","i","approvalPost","code","showToast","icon","title","approvalNum","msg","reportPost","reportDes","reportNum","collectPost","collectNum","setHelpOk","index","commentSubmit","that","showModal","success","confirm","submitPost","submitCommentId","getPostDetail","resPost","userName","issueTime","viewNum","commentNum","onPullDownRefresh","setTimeout","stopPullDownRefresh","onLoad","option","JSON","parse","query","key"],"mappings":"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","file":"pages/index/post-detail/post-detail.js","sourcesContent":["import { render, staticRenderFns } from \"./post-detail.vue?vue&type=template&id=7d9ace20&scoped=true&\"\nimport script from \"./post-detail.vue?vue&type=script&lang=js&\"\nexport * from \"./post-detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./post-detail.vue?vue&type=style&index=0&id=7d9ace20&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d9ace20\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\le\\\\Desktop\\\\coding\\\\HBuilderX.1.6.2.20190220.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('7d9ace20', component.options)\n    } else {\n      api.reload('7d9ace20', component.options)\n    }\n    module.hot.accept(\"./post-detail.vue?vue&type=template&id=7d9ace20&scoped=true&\", function () {\n      api.rerender('7d9ace20', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"校园帮/SchoolHelp-front-end/pages/index/post-detail/post-detail.vue\"\nexport default component.exports","import mod from \"-!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./post-detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./post-detail.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./post-detail.vue?vue&type=style&index=0&id=7d9ace20&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./post-detail.vue?vue&type=style&index=0&id=7d9ace20&lang=scss&scoped=true&\"","export * from \"-!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../coding/HBuilderX.1.6.2.20190220.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./post-detail.vue?vue&type=template&id=7d9ace20&scoped=true&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport {\n\t\tfriendlyDate\n\t} from '@/common/util.js';\n\t\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tshowAddComment: false,\n\t\t\t\tcommentEnter: \"\",\n\t\t\t\tpostDetail: {},\n\t\t\t\tpost: {\n\t\t\t\t\tpoints: 0 ,\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tshowAddCommentBox() {\n\t\t\t\tthis.showAddComment = true;\n\t\t\t},\n\t\t\thideAddCommentBox() {\n\t\t\t\tthis.showAddComment = false;\n\t\t\t},\n\t\t\tgoUserData(e) {\n\t\t\t\tconsole.log(e.currentTarget.dataset.userid, this.$store.state.userInfo.id);\n\t\t\t\tif (e.currentTarget.dataset.userId != this.$store.state.userInfo.id){\n\t\t\t\t\t// 非自身的用户\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: \"../../otherUsers/otherUsers?userId=\" + e.currentTarget.dataset.userid\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\taddComment() {\n\t\t\t\tvar url = this.$api.urls.addComment;\n\t\t\t\tvar data = {postId: this.post.id, commentContent: this.commentEnter};\n\t\t\t\tconsole.log(data);\n\t\t\t\tthis.$api.req.post(url, data, (res)=> {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tthis.commentEnter = \"\";\n\t\t\t\t\tthis.updateComments();\n\t\t\t\t\tthis.hideAddCommentBox();\n\t\t\t\t})\n\t\t\t},\n\t\t\tupdateComments() {\n                this.post.comments = [];\n\t\t\t\tvar url = this.$api.urls.getAllComments + this.post.id;\n\t\t\t\tvar data = {};\n\t\t\t\tthis.$api.req.get(url, data, (res) =>{\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tvar helpUserId = this.post.helpUserId;\n\t\t\t\t\tvar comments = [];\n\t\t\t\t\tif (res.data) {\n\t\t\t\t\t\tcomments = res.data.map((item) =>{\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tid: item.commentId,\n\t\t\t\t\t\t\t\tuser: {\n\t\t\t\t\t\t\t\t\tid: item.userId,\n\t\t\t\t\t\t\t\t\theadImg: item.headImageUrl,\n\t\t\t\t\t\t\t\t\tisCertified: false,\n\t\t\t\t\t\t\t\t\tname: item.commentUserName\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tpublishTime: friendlyDate(new Date(item.commentTime.replace(/\\-/g, '/').replace(/\\T/g, ' ').substring(0, 19)).getTime()),\n\t\t\t\t\t\t\t\tcontent: item.commentContent,\n\t\t\t\t\t\t\t\thelpOk: item.userId==helpUserId,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.post.comments = comments;\n\t\t\t\t\t\tthis.checkCertified();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tcheckCertified() {\n\t\t\t\tvar url = this.$api.urls.checkCertified;\n\t\t\t\tvar userIds = [];\n\t\t\t\tuserIds.push(this.post.user.id);\n\t\t\t\tthis.post.comments.map((comment) =>{\n\t\t\t\t\tif (!userIds.includes(comment.user.id))\n\t\t\t\t\t\tuserIds.push(comment.user.id);\n\t\t\t\t});\n\t\t\t\tvar data = {userIds};\n\t\t\t\tconsole.log(data);\n\t\t\t\tthis.$api.req.put(url, data, (res) =>{\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tfor (var i in userIds){\n\t\t\t\t\t\tif (this.post.user.id == userIds[i]) {\n\t\t\t\t\t\t\t// 检验帖主本人是否认证\n\t\t\t\t\t\t\tthis.post.user.isCertified = res.data[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (var comment of this.post.comments){\n\t\t\t\t\t\t\t// 检验评论者们是否认证\n\t\t\t\t\t\t\tif (comment.user.id == userIds[i]){\n\t\t\t\t\t\t\t\tcomment.user.isCertified = res.data[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconsole.log(this.post);\n\t\t\t\t});\n\t\t\t},\n\t\t\tapprovalPost() {\n\t\t\t\tvar url = this.$api.urls.approvalPost;\n\t\t\t\tvar data = { postId: this.post.id };\n\t\t\t\tthis.$api.req.post(url, data, (res) =>{\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tif (res.code == 0) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\ttitle: res.data\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (res.data == \"点赞成功\"){\n\t\t\t\t\t\t\tthis.post.approvalNum ++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (res.data == \"取消点赞\") {\n\t\t\t\t\t\t\tthis.post.approvalNum --;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\ttitle: res.msg\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\treportPost() {\n\t\t\t\tvar url = this.$api.urls.reportPost;\n\t\t\t\tvar data = { postId: this.post.id, reportDes: \"nonenonenonenonenonenonenone\" };\n\t\t\t\tthis.$api.req.post(url, data, (res) =>{\n\t\t\t\t\tif (res.code == 0) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\ttitle: \"举报成功\"\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.post.reportNum ++;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\ttitle: res.msg\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tcollectPost() {\n\t\t\t\tvar url = this.$api.urls.collectPost;\n\t\t\t\tvar data = { postId: this.post.id };\n\t\t\t\tthis.$api.req.post(url, data, (res) =>{\n\t\t\t\t\tif (res.code == 0) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\ttitle: \"收藏成功\"\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.post.collectNum ++;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\ttitle: res.msg\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tsetHelpOk(e) {\n\t\t\t\tvar index = e.currentTarget.dataset.index;\n\t\t\t\tvar commentSubmit = this.post.comments[index];\n\t\t\t\t// 是帖主、积分不是0\n\t\t\t\tconsole.log(index, this.post.helpUserId, this.$store.state.userInfo.id, commentSubmit.user.id, this.post.user.id);\n\t\t\t\tif(this.post.helpUserId != -1){\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\ttitle: \"帖子已经结贴了哦\"\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\telse if (this.$store.state.userInfo.id != this.post.user.id) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\ttitle: \"非帖主不能结贴\"\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\telse if(commentSubmit.user.id == this.post.user.id) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\ttitle: \"不能给自己设置帮助成功哦\"\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\telse if (this.post.points == 0){\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\ttitle: \"积分为0不能设置帮助成功哦\"\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvar that = this;\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: \"设置帮助成功\",\n\t\t\t\t\t\tcontent: \"您确定选择\"+commentSubmit.user.name+\"帮助成功回答吗？他将获得所有帖子积分。\",\n\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\tif(res.confirm){\n\t\t\t\t\t\t\t\t// 请求后端\n\t\t\t\t\t\t\t\tvar url = that.$api.urls.submitPost;\n\t\t\t\t\t\t\t\tvar data = { postId: that.post.id, submitCommentId: commentSubmit.id};\n\t\t\t\t\t\t\t\tthat.$api.req.post(url, data, (res) =>{\n\t\t\t\t\t\t\t\t\t// console.log(res);\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: \"结贴成功！\"\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\tthat.getPostDetail();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetPostDetail() {\n\t\t\t\tvar url = this.$api.urls.getPostDetail + this.postDetail.postId;\n\t\t\t\tvar data = {};\n\t\t\t\tthis.$api.req.get(url, data, (res)=> {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tvar helpUserId = res.data.post.helpUserId;\n\t\t\t\t\tvar comments = [];\n\t\t\t\t\tif (res.data.comments) {\n\t\t\t\t\t\tcomments = res.data.comments.map((item) =>{\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tid: item.commentId,\n\t\t\t\t\t\t\t\tuser: {\n\t\t\t\t\t\t\t\t\tid: item.userId,\n\t\t\t\t\t\t\t\t\theadImg: item.headImageUrl,\n\t\t\t\t\t\t\t\t\tisCertified: false,\n\t\t\t\t\t\t\t\t\tname: item.commentUserName\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tpublishTime: friendlyDate(new Date(item.commentTime.replace(/\\-/g, '/').replace(/\\T/g, ' ').substring(0, 19)).getTime()),\n\t\t\t\t\t\t\t\tcontent: item.commentContent,\n\t\t\t\t\t\t\t\thelpOk: item.userId==helpUserId,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tvar resPost  = res.data.post;\n\t\t\t\t\tthis.post = {\n\t\t\t\t\t\tid: resPost.postId,\n\t\t\t\t\t\tuser: {\n\t\t\t\t\t\t\tid: resPost.userId,\n\t\t\t\t\t\t\theadImg: resPost.headImageUrl,\n\t\t\t\t\t\t\tisCertified: false,\n\t\t\t\t\t\t\tname: resPost.userName\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: resPost.title,\n\t\t\t\t\t\tcontent: resPost.content,\n\t\t\t\t\t\tpublishTime: friendlyDate(new Date(resPost.issueTime.replace(/\\-/g, '/').replace(/\\T/g, ' ').substring(0, 19)).getTime()),\n\t\t\t\t\t\tpoints: resPost.points,\n\t\t\t\t\t\tcomments: comments,\n\t\t\t\t\t\tviewNum: resPost.viewNum,\n\t\t\t\t\t\tapprovalNum: resPost.approvalNum,\n\t\t\t\t\t\tcommentNum: resPost.commentNum,\n\t\t\t\t\t\treportNum: resPost.reportNum,\n\t\t\t\t\t\thelpUserId: resPost.helpUserId,\n\t\t\t\t\t\thelpOk: resPost.helpUserId!=-1\n\t\t\t\t\t}\n\t\t\t\t\tthis.checkCertified();\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t\n\t\tonPullDownRefresh() {\n\t\t\tthis.getPostDetail();\n\t\t\tsetTimeout(() => {\n                uni.stopPullDownRefresh()\n            }, 1000)\n\t\t},\n \t\tonLoad: function(option){\n\t\t\tthis.postDetail = JSON.parse(option.query);\n\t\t\tfor (let key in this.postDetail){\n\t\t\t\tconsole.log(key, \"---\", this.postDetail[key]);\n\t\t\t}\n\t\t\tthis.getPostDetail();\n\t\t}\n\t}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}